{% extends "base.html" %}
{% block title %}–ú–æ–∏ –ø–∞—Å—Ç—ã{% endblock %}
{% block content %}
    <h2>–ú–æ–∏ –ø–∞—Å—Ç—ã</h2>
    {# –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –∏ –∫–Ω–æ–ø–∫—É –≤ –æ–¥–Ω—É —Ñ–æ—Ä–º—É #}
    <form action="{{ url_for('delete_selected_pastes') }}" method="post" id="delete-pastes-form">
        {% if pastes %}
            <ul style="list-style: none; padding-left: 0;">
                {% for paste in pastes %}
                    <li style="margin-bottom: 1em; padding: 0.8em; border: 1px solid #45475a; border-radius: 4px; background-color: #3b3d50;">
                        {# --- –ß–µ–∫–±–æ–∫—Å –¥–ª—è –≤—ã–±–æ—Ä–∞ --- #}
                        <input type="checkbox" name="paste_keys" value="{{ paste.key }}" id="cb_{{ paste.key }}" style="margin-right: 0.5em;">
                        {# ------------------------ #}
                        <label for="cb_{{ paste.key }}" style="display: inline-block; width: 90%; cursor: pointer;">
                            <a href="{{ url_for('view_paste', paste_key=paste.key) }}" style="font-weight: bold;">
                                {{ paste.key }}
                            </a>
                            <span class="paste-status {{ 'status-public' if paste.is_public else 'status-private' }}">
                                [{{ '–ü—É–±–ª–∏—á–Ω–∞—è' if paste.is_public else '–ü—Ä–∏–≤–∞—Ç–Ω–∞—è' }}]
                            </span>
                            <pre style="margin-top: 0.5em; margin-bottom: 0.5em; font-size: 0.85em; max-height: 5em; overflow: hidden; background-color: #1e1e2e; border: none; padding: 0.5em;"><code>{{ paste.content }}{% if paste.content and '...' not in paste.content and (paste.content|length == 100 or '[–û—à–∏–±–∫–∞' in paste.content) %}...{% endif %}</code></pre>
                            <small style="color: #7f849c;">
                                –°–æ–∑–¥–∞–Ω–æ: {{ paste.created_at.strftime('%Y-%m-%d %H:%M:%S') if paste.created_at and paste.created_at.strftime else paste.created_at or 'N/A' }}
                            </small>
                         </label>
                    </li>
                {% endfor %}
            </ul>
            {# --- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö --- #}
            <div style="margin-top: 1.5em;">
                <button type="submit" class="delete-button"
                        onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Å—Ç—ã?');">
                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
                </button>
                <small style="margin-left: 1em; color: #7f849c;">(–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Å—Ç—ã —Å –ø–æ–º–æ—â—å—é —á–µ–∫–±–æ–∫—Å–æ–≤)</small>
            </div>
            {# ------------------------------- #}
        {% else %}
            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–∞—Å—Ç.</p>
        {% endif %}
    </form>
    <hr style="border-color: #45475a;">
    <a href="{{ url_for('home') }}">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–∞—Å—Ç—É</a>
{% endblock %}