# Termux Pastebin

<!-- –ë–µ–π–¥–∂–∏ –ø–æ–∫–∞ —É–±–µ—Ä–µ–º, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç CI/CD –∏ –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è -->
<!-- [![CI Status](...)](...) -->
<!-- [![Lint Status](...)](...) -->
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT) <!-- –ó–∞–º–µ–Ω–∏–ª –Ω–∞ MIT, —Ç.–∫. AGPL –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–µ–Ω -->

–ü—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏ (–ø–∞—Å—Ç–∞–º–∏), –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Å Termux. –ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞—Å—Ç—ã –∏ –¥–µ–ª–∏—Ç—å—Å—è –∏–º–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ VPN (WireGuard).

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–∞—Å—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
*   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö, —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Å—Ç—ã.
*   –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Å—Ç –ø–æ —Å—Å—ã–ª–∫–µ.
*   –ë–∞–∑–æ–≤–∞—è HTTP-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Basic Auth) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Å—Ç.
*   –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Å—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite.
*   –õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ—Å—Ç—å, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Termux.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–Ω–∞ Termux)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **Termux:** –°—Ä–µ–¥–∞ Linux –Ω–∞ Android.
*   **Termux:Boot (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):** –î–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ (–∏–∑ F-Droid).
*   **Python 3.10+:**
    ```bash
    pkg update && pkg upgrade
    pkg install python git ffmpeg libsndfile sqlite # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python –∏ –Ω—É–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
    pkg install rust # –ù—É–∂–Ω–æ –¥–ª—è Authlib, –∏–Ω–∞—á–µ –Ω–µ —Å–æ–±–µ—Ä–∞–µ—Ç—Å—è –∫–æ–ª–µ—Å–æ
    ```
*   **pip:** –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python (–æ–±—ã—á–Ω–æ –∏–¥–µ—Ç —Å Python).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã):**
    (–ü–æ–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `~/termux-pastebin`)
    ```bash
    cd ~
    # git clone ... # –ï—Å–ª–∏ –±—É–¥–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    # –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ ~/termux-pastebin —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥
    cd termux-pastebin
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    source venv/bin/activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install --upgrade pip
    pip install -r requirements.txt
    ```

4.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env`:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è.
    ```bash
    cp .env.example .env
    nano .env
    ```
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π `FLASK_SECRET_KEY` (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: `python -c 'import secrets; print(secrets.token_hex(16))'`).
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–µ `BASIC_AUTH_USERNAME` –∏ `BASIC_AUTH_PASSWORD`.
    *   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `PASTEBIN_HOST` –∏–ª–∏ `PASTEBIN_PORT`.
    *   **–í–ê–ñ–ù–û:** –ó–∞—â–∏—Ç–∏—Ç–µ —Ñ–∞–π–ª: `chmod 600 .env`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

*   `FLASK_SECRET_KEY`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è Flask (–¥–ª—è flash —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –¥—Ä.). –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –∫–ª—é—á.
*   `BASIC_AUTH_USERNAME`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–∞—Å—Ç.
*   `BASIC_AUTH_PASSWORD`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–∞—Å—Ç.
*   `PASTEBIN_HOST`: IP-–∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `0.0.0.0` - –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã).
*   `PASTEBIN_PORT`: –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `5005`).

## ‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –°–µ—Ä–≤–µ—Ä–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `run_prod.sh`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Waitress:

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ù–ï –≤ venv (—Å–∫—Ä–∏–ø—Ç —Å–∞–º –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç)
deactivate # –ï—Å–ª–∏ –±—ã–ª–∏ –≤ venv

# –ó–∞–ø—É—Å–∫ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
bash scripts/run_prod.sh
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Ö–æ—Å—Ç–µ –∏ –ø–æ—Ä—Ç—É, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ .env (–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ 0.0.0.0:5005). –ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (—Å Termux:Boot)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Termux:Boot –∏–∑ F-Droid.
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–ª—è Termux –æ—Ç–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞—Ç–∞—Ä–µ–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android.
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤ ~/.termux/boot/:
```
mkdir -p ~/.termux/boot
nano ~/.termux/boot/start-pastebin.sh
```
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (—Å–º. –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —à–∞–≥–∏ –Ω–∞—à–µ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ –∏ –∫–ª—é—á PASTEBIN_SECRET_KEY –≤–µ—Ä–Ω—ã). –ü—Ä–∏–º–µ—Ä–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```
#!/data/data/com.termux/files/usr/bin/bash

sleep 15 # –î–∞–µ–º —Å–µ—Ç–∏ –ø–æ–¥–Ω—è—Ç—å—Å—è
termux-wake-lock & # –î–µ—Ä–∂–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–Ω—ã–º

PASTEBIN_DIR="/data/data/com.termux/files/home/termux-pastebin"
cd "$PASTEBIN_DIR" || exit 1
source "$PASTEBIN_DIR/venv/bin/activate" || exit 1

if [ -f ".env" ]; then
    set -a; source ".env"; set +a
fi

if [ -z "$FLASK_SECRET_KEY" ]; then exit 1; fi

HOST=${PASTEBIN_HOST:-"0.0.0.0"}
PORT=${PASTEBIN_PORT:-"5005"}

nohup waitress-serve --host "$HOST" --port "$PORT" "src.app:app" >> "$PASTEBIN_DIR/pastebin-waitress.log" 2>&1 &

echo "$(date): Pastebin service start initiated (PID: $!)" >> "$PASTEBIN_DIR/pastebin-boot.log"
exit 0
```
5. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```
chmod +x ~/.termux/boot/start-pastebin.sh
```
6. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Termux —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ ~/termux-pastebin/pastebin-waitress.log –∏ ~/termux-pastebin/pastebin-boot.log.

## –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏ (Wi-Fi –∏–ª–∏ WireGuard), —á—Ç–æ –∏ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω —Å Termux. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://<IP-–∞–¥—Ä–µ—Å_—Ç–µ–ª–µ—Ñ–æ–Ω–∞>:<–ü–æ—Ä—Ç>
```
* –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Å—Ç—ã –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å (Basic Auth), –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–∫–∞–∑–∞–ª–∏ –≤ .env.
* –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–∞—Å—Ç—ã (http://<IP>:<–ü–æ—Ä—Ç>/<–∫–ª—é—á_–ø–∞—Å—Ç—ã>) –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

(–†–∞–∑–¥–µ–ª –ø–æ–∫–∞ –ø—É—Å—Ç, —Ç–µ—Å—Ç—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ LICENSE. (–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª LICENSE —Å —Ç–µ–∫—Å—Ç–æ–º –ª–∏—Ü–µ–Ω–∑–∏–∏).
üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
–°–æ–∑–¥–∞—Ç–µ–ª—å: [Mr Vi](https://t.me/B4DCAT) - [dev@b4dcat.ru]()
GitHub Issues: https://github.com/mrvi0/termux-pastebin/issues